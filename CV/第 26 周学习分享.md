时间：2019年9月16日 ~ 2019年9月22日

学习人|学习任务|学习心得和参考资料
------ | ------ | ------ 
李钊 | OPENCV实践体会 | 这会儿大概快凌晨四点，我赶紧抽个时间打个卡。最近接了一个项目搞的自己有点伤，项目是比较简单的项目，理论思路比较清晰，但是一方面是时间紧，另一方面是工程项目要考虑一些比较细节的东西，在这里我具体分享一下我最近的坑。这个项目具体是给广汽做一个透明A柱，我只做其中的一部分，但是实际比想象的悲观很多。一方面是工程上对算法部分的运行时间要求很严，另一方面是自己比较懒惰，习惯现用OpenCV的函数去做实现，结果就炸了。最坑的一件事就是摄像头的调用，使用OpenCV基本上会花比底层调用几倍甚至十几倍的时间，算法部分基本就不能做什么事了。还有OpenCV调用摄像头数据基本没法知道图像产生和你获取的时间，还得去多开个线程去捕捉，这些底层的坑货让我弄了好久才弄完，平时要勤快点多积累啊。工程环境和想象的也不一样，有一些数学模型上非常完美的算法，实际上就糟糕的不行了，反倒是一些理论上感觉可以差出不少精度的粗糙算法效果可以接受。还有一个结论，连续六个小时编程之后，自己的行为基本就是在对自己已经写好的程序进行破坏，一定要记住实时备份程序，好在这个东西终于快结束了。
君君 | 论文复现 | 详情如下

> 注：大家打卡时，为了方便自己和拯救他人，请注意**格式美观**，每段用心编辑的文字，都代表了我们的学习态度。如果表格中无法很好的显示格式，可以在文档后附上打卡内容，如下


### 君君的学习记录

#### GAN-based Virtual Re-Staining: A Promising Solution for Whole Slide Image Analysis

* 1.模型
	* 模型基础为condition Cycle GAN，结构如下图：

		![model](https://img-blog.csdnimg.cn/20190923194906264.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzE5NDU1NQ==,size_16,color_FFFFFF,t_70)

* 2.论文数据集简介

	> 1. Matched H&E and IHC stained slides (2-plex
CK19/CK18) were scanned at 40X with Hamamatsu NanoZoomer slide scanner.
On H&E stain, all cell types show varying tones of dark blue and pink. CK19
stains in brown colorectal cancer cells using DAB chromogen, while CK18 stains
in red the surrounding and benign liver cells (hepatocytes) with AP chromogen.  
	> 2. According to the color properties of the IHC stained image, for the training
dataset we divide the training patches into 8 different categories. As demon-
strated in Fig.4, they are Hepatocyte (H), Fibrosis (F), Necrosis (N), Tumour &
Fibrosis (TF), Hepatocyte & Fibrosis (HF), Hepatocyte & Blood (HB), Tumour
& Necrosis (TN) and Background (BG).

	![data_categories](https://img-blog.csdnimg.cn/20190923195053646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzE5NDU1NQ==,size_16,color_FFFFFF,t_70)

* 3.Loss由三部分构成  
	1. condiction Cycle GAN；
	2. 组织结构类别Loss；
	3. photorealism loss and structural similarity loss(保留输入图像的纹理结构)。

	![Loss](https://img-blog.csdnimg.cn/20190923195205532.png)

* 4.论文结果对比分析
	1. condiction Cycle GAN效果明显优于单纯的Cycle GAN；
	2. cCGAN中第四列效果最优，第一三四列效果相对于IHC真实染色来说效果基本等同，如果复现论文可以简化模型，令α=β=0。

	![result_1](https://img-blog.csdnimg.cn/20190923195449858.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzE5NDU1NQ==,size_16,color_FFFFFF,t_70)
	![result_2](https://img-blog.csdnimg.cn/20190923195503299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzE5NDU1NQ==,size_16,color_FFFFFF,t_70)

* 5.复现过程遇到的问题
	1. 论文没有提供数据集，而公开数据集缺失分类信息，首先影响模型中的S模块，由于缺失label导致下图中的蓝色class loss无法计算，所幸同样基于S模块的红色框中class cycle loss可以产生loss；

		![loss2](https://img-blog.csdnimg.cn/20190923195611785.png)

	2. 分类信息的缺失还导致到condition Cycle GAN中condition的缺失,下图为condition Cycle GAN来源condition GAN的简单模型结构图。

		![CGAN](https://img-blog.csdnimg.cn/20190923195737849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzE5NDU1NQ==,size_16,color_FFFFFF,t_70)
